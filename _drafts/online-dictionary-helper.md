---
title: 在线词典助手ODH(划词助手在线版)
categories:
  - 学习工具
date: 2018-02-13 00:01:02
tags:
---

【2018/2/28更新】 ODH升级至0.3版本，文末的模板也相应增加了URL和Audio字段。

* * *

2016年,我在学习英语期间，为了方便自己阅读时查阅单词，写了一个Chrome划词助手插件。时光匆匆，已经一年半过去了，期间收到很多同学热烈的反馈，同时也提出了一些改进的意见。 对于这些意见，第一，鉴于Chrome插件自带数据文件的限制和其他一些诸如数字版权的原因，那么像有些同学提出的随意更换词典的要求就无法实现。第二，因为单词变形和词组的复杂性，很难在插件里用算法来实现词组的匹配。第三，对于一些学习小语种的同学，因为我自己也不是很懂这类语言，就很难做出像样的小语种词典。
<!-- more -->
好在现在是个互联网时代，在线词典的网站也很多。那些基于网站词典的弹窗小工具之前大家也见过不少，我自己也装过不少，但用下来都不是很满意。第一个是这类工具都是眉毛胡子一把抓的提供一堆简明释义，一词多义的情况不能区分不说，例句也没有。第二个是这类小工具查完以后没有办法和自己的学习工具结合事后复习，大部分情况是查过也就查过了。有的工具有一些生词本的功能，但是复习功能也很弱。第三个，当然也是最重要的，不能保存阅读当时的上下文原句。那么，这个当时我在原句法的那篇文章里也提到了，保存文章句子对学习词汇的重要性。 所以基于这种情况。我结合原来开发划词助手的一些经验。开发了这个在线词典助手。主要有以下两个特点。

1.  采用网页开放数据，并对OLCC这些权威词典网页的结构分析后，以更加合理的形式展示在弹窗里。支持一词多义的拆分、显示和制卡(就是一个意思一张卡片，而不是捏在一起)，支持在线语音播放，词组识别，以及考试分类和词频等附加信息。
2.  结合Ankiconnect实现Anki一键制卡，插件产生的卡片自带css样式，所以弹窗里看见是什么样式，卡片就是什么样式。所见即所得，免却了事后折腾anki模板的繁琐。
3.  插件本身不带任何词典数据，内容全部来自于网络。抓取网络词典的逻辑全部在可加载的脚本里。在初始脚本不能满足需求的时候，可加载自己写的脚本，比如对小语种网站数据进行解析。(插件需以开发者模式运行)。
4.  对原来划词助手的易用性进行了提升。可更改取词热键，可选择保存文章原句数量和词典例句数量。并对Anki的连接性和制卡是否成功做了明确的提示，对Ankiconnect的版本判断做了兼容。对简阅等专注阅读的插件做了适配。

当然，因为是网络词典数据。在线版的唯一问题就是，你必须有网络。而且根据你所在地区网络的速度。不同的词典获取单词的速度有快有慢。这个可以根据自己的情况选择和加载适合的词典脚本。 那么下面就简单介绍下用法，并展示一些截屏。 \[[Chrome商店插件链接](https://chrome.google.com/webstore/detail/anki-online-dictionary-he/lppjdajkacanlmpbbcdkccjkdbpllajb?hl=en)\]

1.  从Chrome商店下载安装插件后，从选项页激活插件，并选择自己需要的词典。
2.  打开任意想要取词翻译的网页，将鼠标放在单词上，拖动选择或者双击选择该单词。
3.  如果单词本身是一个链接不宜点击，可按**取词热键**(在选项中设定)自动选取单词。
4.  根据选项中所选词典，一个含释义的弹窗将会显示在上述选中单词的旁边。
5.  (可选操作) 在Ankiconnect已经安装，并且Anki已经打开的情况下，可在选项页设定Anki牌组、模板，以及用于放置 **单词**、**释义**、**原句**的字段名称。
6.  (可选操作) 在上述弹窗中，点击每个释义右上角的绿色**(+)**图标，可进行Anki制卡。

下面左侧是一个典型的在线划词助手的划词画面，点击展开大图后可以看见很多细节：
![](/images/anki_001.png)

1.  这是个400x300的弹窗，上方显示了词头，音标，五星词频和考试分类信息。
2.  在弹窗右上角，有美音和英音两个在线播放音频的播放按钮。
3.  在下面内容区，显示了按照一词多义划分的释义区，含词性，中英释义和例句。
4.  最后释义区右上角的绿色加号可点击一键制卡（需事先在选项页设定）。
5.  弹窗后方是单词所在文章的上下文原句，再来看看这个句子在右边画面的情况。

右侧是Anki制卡后的画面，可以看见有如下细节 ![](/images/anki_001_640x400.png)

1.  所有的词头，音标，词频信息都被原样保存了下来。而且格式也一模一样，所见即所得。
2.  左侧单词所在文章上下文的原句，也被自动摘录并保存，用于复习时唤回你当时阅读的记忆。
3.  单词有一词多义时，可点击绿色加号，正确保存符合当时场景的正确单义。什么意思？比如这里program在句中明显是名词，所以你点击第二个加号保存名词含义。而第一个动词含义不符合当前原句的上下文，不混在一张卡片里。

下面再展示一下插件的其他选项和功能。

1.  选项画面概览，这里有个主开关，可以打开和关闭整个插件的功能。 ![](/images/option_general_640x400.png)
2.  可选的自动取词热键。自动取词的意思就是，插件基本的选词方式是鼠标拖动或者双击选词。但有时候这个文字在网页链接上。那么可以用这个热键自动选中。但有时候，shift，ctrl等功能键在写文章写程序的时候又有用，那么可以选off关闭自动选词。 ![](/images/option_hotkey_001_640x400.png)
3.  (可选配置，不使用Anki的同学可略过) 连上Anki后的Anki字段配置画面。首先是否连上了Anki，并且连接的ankiconnect是什么版本号，这里都有提示。其次要注意，即使连上Anki以后，牌组模板和各个字段还是都要映射配置好，才能正确制卡。否则插件怎么能知道哪部分信息要放在你Anki的哪个字段里呢？ ![](/images/option_ankiconnect_640x400.png)
4.  在选项画面右上角，有最大原句数量选项。主要是控制摘取文章原句是数量。有时候像经济学人这类杂志，长句较多，摘取一个原句就够了。而有时候像新闻网站的句子就比较短，需要摘取2-3句作为上下文。下面是比较： 
一句原句： ![](/images/context_001_640x400.png)
两句原句： ![](/images/context_002_640x400.png)
5.  在选项画面右上角，还有最大例句数量选项。主要是控制摘取词典例句数量(需词典脚本支持)。词典弹窗本身较小，有时候不想看那么多的例句，有的词典甚至一个解释有6-7个例句。那么可以控制最大例句数量为0,1,2句。当设定为0的时候，就还原到老版划词助手没有例句的情况了。下面是比较： 
设定为0，没有例句： ![](/images/example_001_640x400.png)
设定为2，最大两句例句。当然上一个释义(n.名词部分)本身只带一句例句，还是显示一句。 ![](/images/example_002_640x400.png)
6.  当前制卡的等待时，和制卡完成时，有更加明确的提示。 
等待时： ![](/images/frame_001_640x400.png)
完成时：成功完成是绿色的打勾符号，如果因为设置不正确而制卡失败，是红色叉号。 ![](/images/frame_002_640x400.png)
7.  在浏览网页时，可点击Chrome浏览器右上角的插件按钮，弹出常用的快速选项：如开关插件，选择自动取词热键，选择当前词典，而无需切换到插件后台完整选项页去设置。 ![](/images/option_002_640x400.png)
8.  在阅读时，可用鼠标拖动选中多个单词，根据当前网络词典的后台判断，会显示词组含义。 ![](/images/phrase_001_640x400.png)
9.  如上所述，在Anki浏览器和预览画面还有复习画面看到的卡片样式，和词典助手弹窗里看见的是一模一样的。 ![](/images/anki_002_640x400.png)

介绍的最后，附上文章里所使用的的小清新Anki模板，我称之为ODH模板。插件预制脚本可集中在项目[脚本列表页面](https://github.com/ninja33/ODH/tree/master/doc/scriptlist.md)查看。该页面内有很多已经做好的脚本，可用于现成加载，或者学习脚本的制作。 希望大家喜欢这个插件。有问题可随时在插件的[github项目主页](https://github.com/ninja33/ODH) 或者本文下留言。 

[ODH模板下载链接](/files/ODH.zip)